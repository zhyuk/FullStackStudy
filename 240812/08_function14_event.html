<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이벤트 핸들러 함수 종류</title>
    <script>
        /*
        addEventListener : document와 특정요소들에 event를 등록할 때 사용하는 함수임.
        addEventListener() 함수를 이용한 이벤트 연결 형식 : 연결할 요소 또는 객체.addEventListener("이벤트명", 콜백함수);
        ** 콜백함수 형식 : 익명함수와 동일
        function(){
            실행할 코드들...;
        }
        
        자주 사용하는 이벤트의 종류
        click - 마우스버튼을 클릭하고 버튼에서 손가락을 떼면 발생
        mouseover - 마우스를 HTML 요소 위에 올리면 발생
        mouseout - 마우스가 HTML 요소 밖으로 벗어날 때 발생
        mousedown - 클릭을 하기 위해 마우스버튼을 누르고 아직 떼기 전인 그 순간, HTML 요소를 드래그할 때 사용할 수 있다.
        mouseup - 마우스버튼을 떼는 그 순간, 드래그한 HTML 요소를 어딘가에 놓을 때 사용할 수 있다.
        mousemove - 마우스가 움직일 때마다 발생. 마우스커서의 현재 위치를 계속 기록하는 것에 사용할 수 있다.
        focus - HTML요소에 포커스가 갔을 때 발생
        blur - HTML 요소가 포커스에서 벗어났을 때 발생
        keypress - 키를 누르는 순간 발생하고 키를 누르고 있는 동안 계속해서 발생
        keydown - 키를 누를 때 발생
        keyup - 키를 눌렀다가 떼는 순간 발생
        scroll - 스크롤바를 드래그하거나 키보드(up, down)를 사용하거나 마우스 휠을 사용해서 웹페이지를 스크롤할 때 발생. 페이지에 스크롤바가 없다면 이벤트는 발생하지 않는다.
        change - 폼 필드의 상태가 변경되었을 때 발생. 라디오 버튼을 클릭하거나 셀렉트 박스에서 값을 선택하는 경우를 예로 들 수 있다.

        // window 객체를 이용하여 접근할 때 많이 사용하는 이벤트
        load - 웹페이지에서 사용할 모든 파일의 다운로드가 완료되었을 때 발생
        resize - 브라우저 창의 크기를 조절할 때 발생
        unload - 링크를 클릭해서 다른페이지로 이동하거나 브라우저 탭을 닫을 때 혹은 브라우저 창을 닫을때 이벤트가 발생
        */

        window.onload = function () {
            var cols = document.getElementsByClassName("btn");
            /*  Elements인 경우엔 배열로 가져옴. (해당되는 태그가 1개인 경우에도 배열로 가져옴.)
            cols[0] : <button class="btn">A</button>
            cols[1] : <button class="btn">B</button>
            cols[2] : <button class="btn">C</button>
            */

            for (var i = 0; i < cols.length; i++) {
                // click 
                cols[i].addEventListener("click", clk);
            }
            cols[2].style.color = "red";
        };
        /*
        event : 자바스크립트의 내장객체 중 이벤트에 대한 전반적인 데이터 및 속성을 담고 있는 내장객체임
        * 이벤트 내장객체를 사용하는 방법
            - 이벤트핸들러 함수의 콜백함수로 존재하는 경우 함수의 매개변수로 설정가능(event라는 이름이외에 직접 기술한 이름으로도 적용 가능) => 예시)cols[i].addEventListener("click", clk);
            - 매개변수로 적용한 객체가 아닌 경우는 반드시 event라는 축약이 없는 키워드 그대로 이용해야 가능.
            - event객체를 사용할 수 있는 범위 : 이벤트핸들러함수의 콜백함수인 경우 내부에서 사용가능.
            - event객체를 사용할 수 없는 범위
                1. 강제발생 이벤트 함수로 인해 실행된 콜백함수 내부
                2. 선언적 함수를 이벤트핸들러 속성을 사용하여 직접 직접 호출한 경우 (매개변수로 이벤트 객체 사용불가) ==> 예시)<button onclick="clk()">클릭</button>
        */

        // 이벤트핸들러 함수의 콜백함수로 사용된 경우 매개변수에 event, e, ev 등 직접 이름을 기술해도 적용할 수 있다.
        function clk(e) {
            console.log("e : " + e);
            window.alert(this.innerText);
        }

        // ** 매개변수로 event 내장객체 사용불가능인 경우
        // function clk(){
        //     console.log("e : " + event); // 매개변수가 아닌 경우 event 키워드 그대로 작성해야함.
        //     alert(event.target.innerText); // this 키워드 인식불가. 
        // }
    </script>
</head>

<body>
    <div id="cols">
        <button class="btn">A</button>
        <button class="btn">B</button>
        <button class="btn">C</button>
    </div>
    <br><br>
    <button type="button" id="btn">클릭</button>
    <button type="button" id="btn1" onclick="clk()">클릭</button> <!-- 매개변수로 event 내장객체 사용불가.-->
    <script>
        document.getElementById('btn').addEventListener('mouseover', function () {
            this.style.color = 'red'; // 이벤트만 over일 뿐, 기능은 over때만 적용되지 않는다.
        });

        document.getElementById('btn').addEventListener('mouseout', function () {
            this.style.color = 'black';
        });

        document.getElementById('btn').onclick = function (e) { // 해당 함수도 콜백함수임. 호출하지 않아도 자동실행되기 때문에, e = event 내장객체
            console.log('e: ' + e);
            alert(e.target.innerText);
        }
    </script>
</body>

</html>